"use strict";(self.webpackChunk_pamfilico_feedback=self.webpackChunk_pamfilico_feedback||[]).push([[951],{"./src/material/MaterialFeedbackButton.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BottomCenter:()=>BottomCenter,BottomLeft:()=>BottomLeft,Default:()=>Default,EnglishLocale:()=>EnglishLocale,FormAsDialog:()=>FormAsDialog,GreekLocale:()=>GreekLocale,LeftMiddle:()=>LeftMiddle,MobileViewport:()=>MobileViewport,ParentPositioning:()=>ParentPositioning,RightMiddle:()=>RightMiddle,TopCenter:()=>TopCenter,TopLeft:()=>TopLeft,TopRight:()=>TopRight,__namedExportsOrder:()=>__namedExportsOrder,default:()=>MaterialFeedbackButton_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),useTheme=__webpack_require__("./node_modules/@mui/material/esm/styles/useTheme.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/esm/useMediaQuery/index.js"),Button=__webpack_require__("./node_modules/@mui/material/esm/Button/Button.js"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),Feedback=__webpack_require__("./node_modules/@mui/icons-material/esm/Feedback.js"),dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic),Dialog=__webpack_require__("./node_modules/@mui/material/esm/Dialog/Dialog.js"),DialogContent=__webpack_require__("./node_modules/@mui/material/esm/DialogContent/DialogContent.js"),Drawer=__webpack_require__("./node_modules/@mui/material/esm/Drawer/Drawer.js"),IconButton=__webpack_require__("./node_modules/@mui/material/esm/IconButton/IconButton.js"),Chip=__webpack_require__("./node_modules/@mui/material/esm/Chip/Chip.js"),Fab=__webpack_require__("./node_modules/@mui/material/esm/Fab/Fab.js"),FormControl=__webpack_require__("./node_modules/@mui/material/esm/FormControl/FormControl.js"),InputLabel=__webpack_require__("./node_modules/@mui/material/esm/InputLabel/InputLabel.js"),Select=__webpack_require__("./node_modules/@mui/material/esm/Select/Select.js"),MenuItem=__webpack_require__("./node_modules/@mui/material/esm/MenuItem/MenuItem.js"),TextField=__webpack_require__("./node_modules/@mui/material/esm/TextField/TextField.js"),Typography=__webpack_require__("./node_modules/@mui/material/esm/Typography/Typography.js"),ArrowBack=__webpack_require__("./node_modules/@mui/icons-material/esm/ArrowBack.js"),Save=__webpack_require__("./node_modules/@mui/icons-material/esm/Save.js"),PhoneAndroid=__webpack_require__("./node_modules/@mui/icons-material/esm/PhoneAndroid.js"),Computer=__webpack_require__("./node_modules/@mui/icons-material/esm/Computer.js"),Tablet=__webpack_require__("./node_modules/@mui/icons-material/esm/Tablet.js"),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),dist=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs");const translations={en:JSON.parse('{"feedback":{"button":{"text":"Feedback"},"header":{"drawHint":"ðŸ’¡ You can draw on the screenshot","drawHintMobile":"ðŸ’¡ Draw on screenshot"},"screenshot":{"failed":"Failed to capture screenshot","uploadManual":"Exit this screen, take a manual screenshot, and upload it by clicking the button below.","uploadManualMobile":"Upload a screenshot manually","uploadButton":"Upload Screenshot","uploadButtonShort":"Upload","tryAgainButton":"Try Again","tryAgainButtonShort":"Retry"},"drawing":{"resetButton":"Reset Drawing","resetButtonShort":"Reset","undoButton":"Undo","closeFormButton":"Close Form","closeButton":"Close"},"form":{"title":"Submit Feedback","feedbackTypeLabel":"Feedback Type","feedbackTypeRequired":"Feedback type is required","feedbackTypeBug":"Bug","feedbackTypeFeature":"Feature Request","feedbackTypeOther":"Other","descriptionLabel":"Description","descriptionRequired":"Description is required","descriptionMinLength":"Description should be at least 10 characters long","submitButton":"Submit Feedback","cancelButton":"Cancel"},"notifications":{"screenshotUploaded":"Screenshot uploaded successfully","screenshotFailed":"Failed to upload screenshot","screenshotCaptureFailed":"Failed to capture screenshot","submitSuccess":"Feedback submitted successfully!","submitError":"Failed to submit feedback. Please try again."},"screenSize":{"mobile":"MOBILE","tablet":"TABLET","desktop":"DESKTOP"}}}'),el:JSON.parse('{"feedback":{"button":{"text":"Î£Ï‡ÏŒÎ»Î¹Î±"},"header":{"drawHint":"ðŸ’¡ ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÏƒÏ‡ÎµÎ´Î¹Î¬ÏƒÎµÏ„Îµ ÏƒÏ„Î¿ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿ Î¿Î¸ÏŒÎ½Î·Ï‚","drawHintMobile":"ðŸ’¡ Î£Ï‡ÎµÎ´Î¹Î¬ÏƒÏ„Îµ ÏƒÏ„Î¿ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿"},"screenshot":{"failed":"Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î»Î®ÏˆÎ·Ï‚ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿Ï… Î¿Î¸ÏŒÎ½Î·Ï‚","uploadManual":"ÎšÎ»ÎµÎ¯ÏƒÏ„Îµ Î±Ï…Ï„Î® Ï„Î·Î½ Î¿Î¸ÏŒÎ½Î·, Ï„ÏÎ±Î²Î®Î¾Ï„Îµ Î­Î½Î± ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿ Î¿Î¸ÏŒÎ½Î·Ï‚ Ï‡ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î± ÎºÎ±Î¹ Î±Î½ÎµÎ²Î¬ÏƒÏ„Îµ Ï„Î¿ ÎºÎ¬Î½Î¿Î½Ï„Î±Ï‚ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÎºÎ¿Ï…Î¼Ï€Î¯.","uploadManualMobile":"Î‘Î½ÎµÎ²Î¬ÏƒÏ„Îµ Î­Î½Î± ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿ Î¿Î¸ÏŒÎ½Î·Ï‚ Ï‡ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î±","uploadButton":"Î‘Î½Î­Î²Î±ÏƒÎ¼Î± Î£Ï„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿Ï… ÎŸÎ¸ÏŒÎ½Î·Ï‚","uploadButtonShort":"Î‘Î½Î­Î²Î±ÏƒÎ¼Î±","tryAgainButton":"Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ ÎžÎ±Î½Î¬","tryAgainButtonShort":"ÎžÎ±Î½Î¬"},"drawing":{"resetButton":"Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ Î£Ï‡ÎµÎ´Î¯Î¿Ï…","resetButtonShort":"Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬","undoButton":"Î‘Î½Î±Î¯ÏÎµÏƒÎ·","closeFormButton":"ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î¦ÏŒÏÎ¼Î±Ï‚","closeButton":"ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿"},"form":{"title":"Î¥Ï€Î¿Î²Î¿Î»Î® Î£Ï‡Î¿Î»Î¯Ï‰Î½","feedbackTypeLabel":"Î¤ÏÏ€Î¿Ï‚ Î£Ï‡Î¿Î»Î¯Ï‰Î½","feedbackTypeRequired":"ÎŸ Ï„ÏÏ€Î¿Ï‚ ÏƒÏ‡Î¿Î»Î¯Ï‰Î½ ÎµÎ¯Î½Î±Î¹ Ï…Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÏŒÏ‚","feedbackTypeBug":"Î£Ï†Î¬Î»Î¼Î±","feedbackTypeFeature":"Î‘Î¯Ï„Î·Î¼Î± Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚","feedbackTypeOther":"Î†Î»Î»Î¿","descriptionLabel":"Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®","descriptionRequired":"Î— Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î® ÎµÎ¯Î½Î±Î¹ Ï…Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÎ®","descriptionMinLength":"Î— Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î® Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ 10 Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚","submitButton":"Î¥Ï€Î¿Î²Î¿Î»Î® Î£Ï‡Î¿Î»Î¯Ï‰Î½","cancelButton":"Î‘ÎºÏÏÏ‰ÏƒÎ·"},"notifications":{"screenshotUploaded":"Î¤Î¿ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿ Î¿Î¸ÏŒÎ½Î·Ï‚ Î±Î½Î­Î²Î·ÎºÎµ Î¼Îµ ÎµÏ€Î¹Ï„Ï…Ï‡Î¯Î±","screenshotFailed":"Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î±Î½ÎµÎ²Î¬ÏƒÎ¼Î±Ï„Î¿Ï‚ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿Ï… Î¿Î¸ÏŒÎ½Î·Ï‚","screenshotCaptureFailed":"Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î»Î®ÏˆÎ·Ï‚ ÏƒÏ„Î¹Î³Î¼Î¹ÏŒÏ„Ï…Ï€Î¿Ï… Î¿Î¸ÏŒÎ½Î·Ï‚","submitSuccess":"Î¤Î± ÏƒÏ‡ÏŒÎ»Î¹Î± Ï…Ï€Î¿Î²Î»Î®Î¸Î·ÎºÎ±Î½ Î¼Îµ ÎµÏ€Î¹Ï„Ï…Ï‡Î¯Î±!","submitError":"Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Ï…Ï€Î¿Î²Î¿Î»Î®Ï‚ ÏƒÏ‡Î¿Î»Î¯Ï‰Î½. Î Î±ÏÎ±ÎºÎ±Î»ÏŽ Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬."},"screenSize":{"mobile":"ÎšÎ™ÎÎ—Î¤ÎŸ","tablet":"Î¤Î‘ÎœÎ Î›Î•Î¤Î‘","desktop":"Î¥Î ÎŸÎ›ÎŸÎ“Î™Î£Î¤Î—Î£"}}}')};function getTranslations(locale="en"){return translations[locale]||translations.en}var console=__webpack_require__("./node_modules/console-browserify/index.js");const CanvasDraw=dynamic_default()(()=>__webpack_require__.e(716).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-canvas-draw/es/index.js")),{loadableGenerated:{webpack:()=>["./node_modules/react-canvas-draw/es/index.js"]},ssr:!1,loading:()=>(0,jsx_runtime.jsx)("div",{children:"Loading canvas..."})});function DesktopFeedbackComponent({open,onClose,meta=null,apiBasePath="/api/feedback",additionalHeaders={},appId,formAsDialog=!1,screenSize,locale="en",onRetryScreenshot}){const[image,setImage]=(0,react.useState)(""),[drawerOpen,setDrawerOpen]=(0,react.useState)(!1),[formDialogOpen,setFormDialogOpen]=(0,react.useState)(!1),canvasRef=(0,react.useRef)(null),dialogRef=(0,react.useRef)(null),t=(0,react.useMemo)(()=>getTranslations(locale),[locale]),validationSchema=(0,react.useMemo)(()=>index_esm.Ik({feedbackType:index_esm.Yj().required(t.feedback.form.feedbackTypeRequired),description:index_esm.Yj().min(10,t.feedback.form.descriptionMinLength).required(t.feedback.form.descriptionRequired)}),[t]),handleUploadImage=(0,react.useCallback)(file=>{const reader=new FileReader;reader.onload=e=>{var _e_target;const result=null===(_e_target=e.target)||void 0===_e_target?void 0:_e_target.result;"string"==typeof result&&(setImage(result),dist.Ay.success(t.feedback.notifications.screenshotUploaded))},reader.onerror=()=>{dist.Ay.error(t.feedback.notifications.screenshotFailed)},reader.readAsDataURL(file)},[t]),clearDrawing=(0,react.useCallback)(()=>{canvasRef.current&&canvasRef.current.clear()},[]),undoLastDrawing=(0,react.useCallback)(()=>{canvasRef.current&&canvasRef.current.undo()},[]),handleCloseInternal=(0,react.useCallback)(()=>{setDrawerOpen(!1),setFormDialogOpen(!1),onClose()},[onClose]),formik=(0,formik_esm.Wx)({initialValues:{feedbackType:"",description:""},validationSchema,onSubmit:async values=>{try{const currentUrl=window.location.href;let drawings=null;if(canvasRef.current){const drawingsData=canvasRef.current.getSaveData();drawings=drawingsData?JSON.parse(drawingsData):null}const combinedMeta={...meta||{},...appId?{app_id:appId}:{}},payload={feedbackType:values.feedbackType,description:values.description,image,current_url:currentUrl,drawings,material_ui_screensize:screenSize,meta:combinedMeta},response=await fetch(apiBasePath,{method:"POST",headers:{"Content-Type":"application/json",...additionalHeaders},body:JSON.stringify(payload)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.error||"Failed to submit feedback")}dist.Ay.success(t.feedback.notifications.submitSuccess),formik.resetForm(),setImage(""),handleCloseInternal()}catch(error){console.error("Error submitting feedback:",error),dist.Ay.error(error instanceof Error?error.message:t.feedback.notifications.submitError)}}}),captureScreenshot=(0,react.useCallback)(async()=>{try{const{toPng}=await __webpack_require__.e(777).then(__webpack_require__.bind(__webpack_require__,"./node_modules/html-to-image/es/index.js")),screenshot=await toPng(document.body,{cacheBust:!0,pixelRatio:1,skipFonts:!0,skipAutoScale:!0,filter:node=>{var _node_classList,_node_src;return!(null===(_node_classList=node.classList)||void 0===_node_classList?void 0:_node_classList.contains("ProseMirror-separator"))&&("IMG"!==node.tagName||!(null===(_node_src=node.src)||void 0===_node_src?void 0:_node_src.includes("data:")))}});setImage(screenshot)}catch(error){console.error("Failed to take screenshot:",error),setImage(""),setDrawerOpen(!0),dist.Ay.error(t.feedback.notifications.screenshotCaptureFailed)}},[t]);react.useEffect(()=>{open?captureScreenshot():(formik.resetForm(),setImage(""),setDrawerOpen(!1),setFormDialogOpen(!1))},[open]);return(0,jsx_runtime.jsxs)(Dialog.A,{ref:dialogRef,open,onClose:handleCloseInternal,fullScreen:!0,children:[(0,jsx_runtime.jsxs)(Box.A,{sx:{m:0,p:2,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[(0,jsx_runtime.jsx)(IconButton.A,{"aria-label":"back",onClick:handleCloseInternal,sx:{color:theme=>theme.palette.grey[500]},children:(0,jsx_runtime.jsx)(ArrowBack.A,{})}),(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,jsx_runtime.jsx)(Chip.A,{icon:"mobile"===screenSize?(0,jsx_runtime.jsx)(PhoneAndroid.A,{}):"tablet"===screenSize?(0,jsx_runtime.jsx)(Tablet.A,{}):(0,jsx_runtime.jsx)(Computer.A,{}),label:t.feedback.screenSize[screenSize],color:"mobile"===screenSize?"success":"tablet"===screenSize?"warning":"primary",size:"small"}),(0,jsx_runtime.jsx)(Box.A,{component:"span",sx:{fontSize:"1.25rem",fontWeight:500,color:"text.secondary",fontStyle:"italic"},children:t.feedback.header.drawHint})]}),(0,jsx_runtime.jsx)(Fab.A,{color:"primary","aria-label":"save feedback",onClick:()=>{formAsDialog?setFormDialogOpen(!0):setDrawerOpen(!0)},size:"medium",sx:{animation:"wiggle 2s ease-in-out infinite","@keyframes wiggle":{"0%, 100%":{transform:"rotate(0deg)"},"25%":{transform:"rotate(-5deg)"},"75%":{transform:"rotate(5deg)"}}},children:(0,jsx_runtime.jsx)(Save.A,{})})]}),(0,jsx_runtime.jsxs)(DialogContent.A,{sx:{p:0,height:"calc(100vh - 64px)",overflow:"hidden",position:"relative"},children:[(0,jsx_runtime.jsx)(Drawer.Ay,{anchor:"right",open:drawerOpen,onClose:()=>setDrawerOpen(!1),variant:"temporary",ModalProps:{keepMounted:!0,container:dialogRef.current,disablePortal:!1},slotProps:{backdrop:{sx:{position:"absolute",zIndex:1300,backgroundColor:"rgba(0, 0, 0, 0.5)"}}},sx:{position:"absolute",zIndex:1400,"& .MuiDrawer-paper":{width:400,position:"absolute",height:"100%",boxSizing:"border-box",zIndex:1400}},children:(0,jsx_runtime.jsxs)(Box.A,{sx:{height:"100%",bgcolor:"background.paper",overflowY:"auto",p:3},children:[(0,jsx_runtime.jsx)(Button.A,{variant:"contained",color:"secondary",onClick:clearDrawing,fullWidth:!0,sx:{mb:2},children:t.feedback.drawing.resetButton}),(0,jsx_runtime.jsx)(Button.A,{variant:"contained",color:"primary",onClick:undoLastDrawing,fullWidth:!0,sx:{mb:2},children:t.feedback.drawing.undoButton}),(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"primary",onClick:()=>setDrawerOpen(!1),fullWidth:!0,sx:{mb:3},children:t.feedback.drawing.closeFormButton}),(0,jsx_runtime.jsxs)("form",{onSubmit:formik.handleSubmit,children:[(0,jsx_runtime.jsxs)(FormControl.A,{fullWidth:!0,margin:"normal",children:[(0,jsx_runtime.jsx)(InputLabel.A,{id:"feedbackType-label",children:t.feedback.form.feedbackTypeLabel}),(0,jsx_runtime.jsxs)(Select.A,{labelId:"feedbackType-label",id:"feedbackType",name:"feedbackType",value:formik.values.feedbackType,onChange:formik.handleChange,error:formik.touched.feedbackType&&Boolean(formik.errors.feedbackType),label:t.feedback.form.feedbackTypeLabel,children:[(0,jsx_runtime.jsx)(MenuItem.A,{value:"bug",children:t.feedback.form.feedbackTypeBug}),(0,jsx_runtime.jsx)(MenuItem.A,{value:"feature",children:t.feedback.form.feedbackTypeFeature}),(0,jsx_runtime.jsx)(MenuItem.A,{value:"other",children:t.feedback.form.feedbackTypeOther})]}),formik.touched.feedbackType&&formik.errors.feedbackType&&(0,jsx_runtime.jsx)(Box.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:.5},children:formik.errors.feedbackType})]}),(0,jsx_runtime.jsx)(TextField.A,{fullWidth:!0,margin:"normal",id:"description",name:"description",label:t.feedback.form.descriptionLabel,multiline:!0,rows:8,value:formik.values.description,onChange:formik.handleChange,error:formik.touched.description&&Boolean(formik.errors.description),helperText:formik.touched.description&&formik.errors.description}),(0,jsx_runtime.jsx)(Button.A,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",sx:{mt:2},children:t.feedback.form.submitButton})]})]})}),(0,jsx_runtime.jsx)(Dialog.A,{open:formDialogOpen,onClose:()=>setFormDialogOpen(!1),maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},children:(0,jsx_runtime.jsxs)(Box.A,{sx:{p:3},children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h6",gutterBottom:!0,children:t.feedback.form.title}),(0,jsx_runtime.jsx)(Button.A,{variant:"contained",color:"secondary",onClick:clearDrawing,fullWidth:!0,sx:{mb:2},children:t.feedback.drawing.resetButton}),(0,jsx_runtime.jsx)(Button.A,{variant:"contained",color:"primary",onClick:undoLastDrawing,fullWidth:!0,sx:{mb:2},children:t.feedback.drawing.undoButton}),(0,jsx_runtime.jsxs)("form",{onSubmit:formik.handleSubmit,children:[(0,jsx_runtime.jsxs)(FormControl.A,{fullWidth:!0,margin:"normal",children:[(0,jsx_runtime.jsx)(InputLabel.A,{id:"formDialog-feedbackType-label",children:t.feedback.form.feedbackTypeLabel}),(0,jsx_runtime.jsxs)(Select.A,{labelId:"formDialog-feedbackType-label",id:"formDialog-feedbackType",name:"feedbackType",value:formik.values.feedbackType,onChange:formik.handleChange,error:formik.touched.feedbackType&&Boolean(formik.errors.feedbackType),label:t.feedback.form.feedbackTypeLabel,children:[(0,jsx_runtime.jsx)(MenuItem.A,{value:"bug",children:t.feedback.form.feedbackTypeBug}),(0,jsx_runtime.jsx)(MenuItem.A,{value:"feature",children:t.feedback.form.feedbackTypeFeature}),(0,jsx_runtime.jsx)(MenuItem.A,{value:"other",children:t.feedback.form.feedbackTypeOther})]}),formik.touched.feedbackType&&formik.errors.feedbackType&&(0,jsx_runtime.jsx)(Box.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:.5},children:formik.errors.feedbackType})]}),(0,jsx_runtime.jsx)(TextField.A,{fullWidth:!0,margin:"normal",id:"formDialog-description",name:"description",label:t.feedback.form.descriptionLabel,multiline:!0,rows:8,value:formik.values.description,onChange:formik.handleChange,error:formik.touched.description&&Boolean(formik.errors.description),helperText:formik.touched.description&&formik.errors.description}),(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",gap:2,mt:2},children:[(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"primary",onClick:()=>setFormDialogOpen(!1),fullWidth:!0,children:t.feedback.form.cancelButton}),(0,jsx_runtime.jsx)(Button.A,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:t.feedback.form.submitButton})]})]})]})}),(0,jsx_runtime.jsx)(Box.A,{sx:{width:"100%",height:"100%",position:"relative",bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:image?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("img",{src:image,alt:"Screenshot",style:{width:"100%",height:"100%",objectFit:"contain",display:"block",position:"relative",zIndex:1}}),(0,jsx_runtime.jsx)(Box.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:2},children:(0,jsx_runtime.jsx)(Box.A,{sx:{position:"relative",width:Math.floor(window.innerWidth),height:Math.floor(.9*window.innerHeight),pointerEvents:"auto"},children:(0,jsx_runtime.jsx)(CanvasDraw,{ref:canvasRef,canvasWidth:Math.floor(window.innerWidth),canvasHeight:Math.floor(.9*window.innerHeight),brushColor:"#ff0000",brushRadius:3,lazyRadius:0,hideGrid:!0,backgroundColor:"transparent"})})})]}):(0,jsx_runtime.jsxs)(Box.A,{sx:{textAlign:"center",px:4},children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:t.feedback.screenshot.failed}),(0,jsx_runtime.jsx)(Typography.A,{variant:"body2",color:"text.secondary",sx:{mt:2,mb:3},children:t.feedback.screenshot.uploadManual}),(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",gap:2,justifyContent:"center",mt:2},children:[(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"primary",onClick:()=>{onRetryScreenshot&&onRetryScreenshot()},children:t.feedback.screenshot.tryAgainButton}),(0,jsx_runtime.jsxs)(Button.A,{variant:"contained",component:"label",children:[t.feedback.screenshot.uploadButton,(0,jsx_runtime.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{var _e_target_files;const file=null===(_e_target_files=e.target.files)||void 0===_e_target_files?void 0:_e_target_files[0];file&&handleUploadImage(file)}})]})]})]})})]})]})}DesktopFeedbackComponent.__docgenInfo={description:"",methods:[],displayName:"DesktopFeedbackComponent",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},meta:{required:!1,tsType:{name:"union",raw:"Record<string, any> | null",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},apiBasePath:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"/api/feedback"',computed:!1}},additionalHeaders:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:"",defaultValue:{value:"{}",computed:!1}},appId:{required:!1,tsType:{name:"string"},description:""},formAsDialog:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},screenSize:{required:!0,tsType:{name:"union",raw:'"mobile" | "tablet" | "desktop"',elements:[{name:"literal",value:'"mobile"'},{name:"literal",value:'"tablet"'},{name:"literal",value:'"desktop"'}]},description:""},locale:{required:!1,tsType:{name:"union",raw:"'en' | 'el'",elements:[{name:"literal",value:"'en'"},{name:"literal",value:"'el'"}]},description:"",defaultValue:{value:"'en'",computed:!1}},onRetryScreenshot:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var MobileFeedbackComponent_console=__webpack_require__("./node_modules/console-browserify/index.js");const MobileFeedbackComponent_CanvasDraw=dynamic_default()(()=>__webpack_require__.e(716).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-canvas-draw/es/index.js")),{loadableGenerated:{webpack:()=>["./node_modules/react-canvas-draw/es/index.js"]},ssr:!1,loading:()=>(0,jsx_runtime.jsx)("div",{children:"Loading canvas..."})});function MobileFeedbackComponent({open,onClose,meta=null,apiBasePath="/api/feedback",additionalHeaders={},appId,screenSize,locale="en",onRetryScreenshot}){const[image,setImage]=(0,react.useState)(""),[dimensions,setDimensions]=(0,react.useState)({width:0,height:0}),[drawerOpen,setDrawerOpen]=(0,react.useState)(!1),canvasRef=(0,react.useRef)(null),dialogRef=(0,react.useRef)(null),t=(0,react.useMemo)(()=>getTranslations(locale),[locale]),validationSchema=(0,react.useMemo)(()=>index_esm.Ik({feedbackType:index_esm.Yj().required(t.feedback.form.feedbackTypeRequired),description:index_esm.Yj().min(10,t.feedback.form.descriptionMinLength).required(t.feedback.form.descriptionRequired)}),[t]),handleUploadImage=(0,react.useCallback)(file=>{const reader=new FileReader;reader.onload=e=>{var _e_target;const result=null===(_e_target=e.target)||void 0===_e_target?void 0:_e_target.result;"string"==typeof result&&(setImage(result),dist.Ay.success(t.feedback.notifications.screenshotUploaded))},reader.onerror=()=>{dist.Ay.error(t.feedback.notifications.screenshotFailed)},reader.readAsDataURL(file)},[t]),clearDrawing=(0,react.useCallback)(()=>{canvasRef.current&&canvasRef.current.clear()},[]),undoLastDrawing=(0,react.useCallback)(()=>{canvasRef.current&&canvasRef.current.undo()},[]),handleCloseInternal=(0,react.useCallback)(()=>{setDrawerOpen(!1),onClose()},[onClose]),formik=(0,formik_esm.Wx)({initialValues:{feedbackType:"",description:""},validationSchema,onSubmit:async values=>{try{const currentUrl=window.location.href;let drawings=null;if(canvasRef.current){const drawingsData=canvasRef.current.getSaveData();drawings=drawingsData?JSON.parse(drawingsData):null}const combinedMeta={...meta||{},...appId?{app_id:appId}:{}},payload={feedbackType:values.feedbackType,description:values.description,image,current_url:currentUrl,drawings,material_ui_screensize:screenSize,meta:combinedMeta},response=await fetch(apiBasePath,{method:"POST",headers:{"Content-Type":"application/json",...additionalHeaders},body:JSON.stringify(payload)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.error||"Failed to submit feedback")}dist.Ay.success(t.feedback.notifications.submitSuccess),formik.resetForm(),setImage(""),setDrawerOpen(!1),handleCloseInternal()}catch(error){MobileFeedbackComponent_console.error("Error submitting feedback:",error),dist.Ay.error(error instanceof Error?error.message:t.feedback.notifications.submitError)}}}),captureScreenshot=(0,react.useCallback)(async()=>{try{const{toPng}=await __webpack_require__.e(777).then(__webpack_require__.bind(__webpack_require__,"./node_modules/html-to-image/es/index.js")),screenshot=await toPng(document.body,{cacheBust:!0,pixelRatio:1,skipFonts:!0,skipAutoScale:!0,filter:node=>{var _node_classList,_node_src;return!(null===(_node_classList=node.classList)||void 0===_node_classList?void 0:_node_classList.contains("ProseMirror-separator"))&&("IMG"!==node.tagName||!(null===(_node_src=node.src)||void 0===_node_src?void 0:_node_src.includes("data:")))}});setImage(screenshot)}catch(error){MobileFeedbackComponent_console.error("Failed to take screenshot:",error),setImage(""),dist.Ay.error(t.feedback.notifications.screenshotCaptureFailed)}},[t]);react.useEffect(()=>{open?(captureScreenshot(),setDimensions({width:window.innerWidth,height:Math.floor(.4*window.innerHeight)})):(formik.resetForm(),setImage(""),setDrawerOpen(!1))},[open]);return(0,jsx_runtime.jsxs)(Dialog.A,{ref:dialogRef,open,onClose:handleCloseInternal,fullScreen:!0,sx:{"& .MuiDialog-paper":{display:"flex",flexDirection:"column"}},children:[(0,jsx_runtime.jsxs)(Box.A,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",flexShrink:0},children:[(0,jsx_runtime.jsx)(IconButton.A,{"aria-label":"back",onClick:handleCloseInternal,size:"small",children:(0,jsx_runtime.jsx)(ArrowBack.A,{})}),(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,jsx_runtime.jsx)(Chip.A,{icon:"mobile"===screenSize?(0,jsx_runtime.jsx)(PhoneAndroid.A,{}):"tablet"===screenSize?(0,jsx_runtime.jsx)(Tablet.A,{}):(0,jsx_runtime.jsx)(Computer.A,{}),label:t.feedback.screenSize[screenSize],color:"mobile"===screenSize?"success":"tablet"===screenSize?"warning":"primary",size:"small"}),(0,jsx_runtime.jsx)(Typography.A,{variant:"caption",color:"text.secondary",sx:{fontStyle:"italic"},children:t.feedback.header.drawHintMobile})]}),(0,jsx_runtime.jsx)(Fab.A,{color:"primary","aria-label":"save feedback",onClick:()=>setDrawerOpen(!0),size:"small",sx:{animation:"wiggle 2s ease-in-out infinite","@keyframes wiggle":{"0%, 100%":{transform:"rotate(0deg)"},"25%":{transform:"rotate(-5deg)"},"75%":{transform:"rotate(5deg)"}}},children:(0,jsx_runtime.jsx)(Save.A,{})})]}),(0,jsx_runtime.jsxs)(DialogContent.A,{sx:{p:0,flex:1,display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},children:[(0,jsx_runtime.jsx)(Box.A,{sx:{position:"relative",bgcolor:"#f5f5f5",flex:1,overflow:"hidden"},children:image?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("img",{src:image,alt:"Screenshot",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}}),(0,jsx_runtime.jsx)(Box.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:2},children:(0,jsx_runtime.jsx)(Box.A,{sx:{position:"relative",width:dimensions.width,height:dimensions.height,pointerEvents:"auto"},children:(0,jsx_runtime.jsx)(MobileFeedbackComponent_CanvasDraw,{ref:canvasRef,canvasWidth:dimensions.width,canvasHeight:dimensions.height,brushColor:"#ff0000",brushRadius:2,lazyRadius:0,hideGrid:!0,backgroundColor:"transparent"})})})]}):(0,jsx_runtime.jsxs)(Box.A,{sx:{textAlign:"center",px:2,py:3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:t.feedback.screenshot.failed}),(0,jsx_runtime.jsx)(Typography.A,{variant:"caption",color:"text.secondary",sx:{mb:2},children:t.feedback.screenshot.uploadManualMobile}),(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"center"},children:[(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"primary",size:"small",onClick:()=>{onRetryScreenshot&&onRetryScreenshot()},children:t.feedback.screenshot.tryAgainButtonShort}),(0,jsx_runtime.jsxs)(Button.A,{variant:"contained",component:"label",size:"small",children:[t.feedback.screenshot.uploadButtonShort,(0,jsx_runtime.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{var _e_target_files;const file=null===(_e_target_files=e.target.files)||void 0===_e_target_files?void 0:_e_target_files[0];file&&handleUploadImage(file)}})]})]})]})}),(0,jsx_runtime.jsx)(Drawer.Ay,{anchor:"bottom",open:drawerOpen,onClose:()=>setDrawerOpen(!1),variant:"temporary",ModalProps:{keepMounted:!0,container:dialogRef.current,disablePortal:!1},slotProps:{backdrop:{sx:{position:"absolute",zIndex:1300,backgroundColor:"rgba(0, 0, 0, 0.5)"}}},sx:{position:"absolute",zIndex:1400,"& .MuiDrawer-paper":{position:"absolute",height:"90vh",boxSizing:"border-box",zIndex:1400}},children:(0,jsx_runtime.jsxs)(Box.A,{sx:{height:"100%",bgcolor:"background.paper",overflowY:"auto",p:2},children:[(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"secondary",onClick:clearDrawing,size:"small",sx:{flex:1},children:t.feedback.drawing.resetButtonShort}),(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"primary",onClick:undoLastDrawing,size:"small",sx:{flex:1},children:t.feedback.drawing.undoButton})]}),(0,jsx_runtime.jsx)(Button.A,{variant:"outlined",color:"primary",onClick:()=>setDrawerOpen(!1),fullWidth:!0,size:"small",sx:{mb:2},children:t.feedback.drawing.closeFormButton}),(0,jsx_runtime.jsxs)("form",{onSubmit:formik.handleSubmit,children:[(0,jsx_runtime.jsxs)(FormControl.A,{fullWidth:!0,margin:"normal",size:"small",children:[(0,jsx_runtime.jsx)(InputLabel.A,{id:"mobile-feedbackType-label",children:t.feedback.form.feedbackTypeLabel}),(0,jsx_runtime.jsxs)(Select.A,{labelId:"mobile-feedbackType-label",id:"mobile-feedbackType",name:"feedbackType",value:formik.values.feedbackType,onChange:formik.handleChange,error:formik.touched.feedbackType&&Boolean(formik.errors.feedbackType),label:t.feedback.form.feedbackTypeLabel,children:[(0,jsx_runtime.jsx)(MenuItem.A,{value:"bug",children:t.feedback.form.feedbackTypeBug}),(0,jsx_runtime.jsx)(MenuItem.A,{value:"feature",children:t.feedback.form.feedbackTypeFeature}),(0,jsx_runtime.jsx)(MenuItem.A,{value:"other",children:t.feedback.form.feedbackTypeOther})]}),formik.touched.feedbackType&&formik.errors.feedbackType&&(0,jsx_runtime.jsx)(Box.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:.5},children:formik.errors.feedbackType})]}),(0,jsx_runtime.jsx)(TextField.A,{fullWidth:!0,margin:"normal",id:"mobile-description",name:"description",label:t.feedback.form.descriptionLabel,multiline:!0,rows:8,value:formik.values.description,onChange:formik.handleChange,error:formik.touched.description&&Boolean(formik.errors.description),helperText:formik.touched.description&&formik.errors.description,size:"small"}),(0,jsx_runtime.jsx)(Button.A,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",sx:{mt:2},children:t.feedback.form.submitButton})]})]})})]})]})}function MaterialFeedbackButton({meta=null,apiBasePath="/api/feedback",additionalHeaders={},hideIfNoMeta=!1,appId,formAsDialog=!1,placement="bottom-right",color="error",locale="en"}){const[dialogOpen,setDialogOpen]=(0,react.useState)(!1),[isClient,setIsClient]=(0,react.useState)(!1),[retryKey,setRetryKey]=(0,react.useState)(0),theme=(0,useTheme.A)(),isMobile=(0,useMediaQuery.A)(theme.breakpoints.down("sm")),isTablet=(0,useMediaQuery.A)(theme.breakpoints.between("sm","md")),validLocale=((0,useMediaQuery.A)(theme.breakpoints.up("md")),"en"===locale||"el"===locale?locale:"en"),t=(0,react.useMemo)(()=>getTranslations(validLocale),[validLocale]),getScreenSize=()=>isMobile?"mobile":isTablet?"tablet":"desktop";(0,react.useEffect)(()=>{setIsClient(!0)},[]);const handleRetryScreenshot=async()=>{setDialogOpen(!1),await new Promise(resolve=>setTimeout(resolve,300)),setRetryKey(prev=>prev+1),await new Promise(resolve=>setTimeout(resolve,100)),setDialogOpen(!0)};if(hideIfNoMeta&&!meta)return null;return isClient?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(Button.A,{sx:{...(()=>{if("parent"===placement)return{position:"relative"};const baseStyles={position:"fixed",zIndex:1e3};switch(placement){case"bottom-right":default:return{...baseStyles,bottom:20,right:20};case"bottom-left":return{...baseStyles,bottom:20,left:20};case"bottom-center":return{...baseStyles,bottom:20,left:"50%",transform:"translateX(-50%)"};case"top-right":return{...baseStyles,top:20,right:20};case"top-left":return{...baseStyles,top:20,left:20};case"top-center":return{...baseStyles,top:20,left:"50%",transform:"translateX(-50%)"};case"right-middle":return{...baseStyles,right:20,top:"50%",transform:"translateY(-50%) rotate(-90deg)",transformOrigin:"right center"};case"left-middle":return{...baseStyles,left:20,top:"50%",transform:"translateY(-50%) rotate(90deg)",transformOrigin:"left center"}}})(),backgroundColor:"white",padding:"10px 20px",minWidth:{xs:"auto",sm:"auto"},color:`${color}.main`,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"}},onClick:()=>setDialogOpen(!0),children:[(0,jsx_runtime.jsx)(Box.A,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t.feedback.button.text}),(0,jsx_runtime.jsx)(Feedback.A,{sx:{marginLeft:{xs:0,sm:1}}})]}),isMobile?(0,jsx_runtime.jsx)(MobileFeedbackComponent,{open:dialogOpen,onClose:()=>setDialogOpen(!1),meta,apiBasePath,additionalHeaders,appId,screenSize:getScreenSize(),locale:validLocale,onRetryScreenshot:handleRetryScreenshot},retryKey):(0,jsx_runtime.jsx)(DesktopFeedbackComponent,{open:dialogOpen,onClose:()=>setDialogOpen(!1),meta,apiBasePath,additionalHeaders,appId,formAsDialog,screenSize:getScreenSize(),locale:validLocale,onRetryScreenshot:handleRetryScreenshot},retryKey)]}):null}MobileFeedbackComponent.__docgenInfo={description:"",methods:[],displayName:"MobileFeedbackComponent",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},meta:{required:!1,tsType:{name:"union",raw:"Record<string, any> | null",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},apiBasePath:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"/api/feedback"',computed:!1}},additionalHeaders:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:"",defaultValue:{value:"{}",computed:!1}},appId:{required:!1,tsType:{name:"string"},description:""},screenSize:{required:!0,tsType:{name:"union",raw:'"mobile" | "tablet" | "desktop"',elements:[{name:"literal",value:'"mobile"'},{name:"literal",value:'"tablet"'},{name:"literal",value:'"desktop"'}]},description:""},locale:{required:!1,tsType:{name:"union",raw:"'en' | 'el'",elements:[{name:"literal",value:"'en'"},{name:"literal",value:"'el'"}]},description:"",defaultValue:{value:"'en'",computed:!1}},onRetryScreenshot:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},MaterialFeedbackButton.__docgenInfo={description:"",methods:[],displayName:"MaterialFeedbackButton",props:{meta:{required:!1,tsType:{name:"union",raw:"Record<string, any> | null",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},apiBasePath:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"/api/feedback"',computed:!1}},additionalHeaders:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:"",defaultValue:{value:"{}",computed:!1}},hideIfNoMeta:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},appId:{required:!1,tsType:{name:"string"},description:""},formAsDialog:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},placement:{required:!1,tsType:{name:"union",raw:"| 'bottom-right'\n| 'bottom-left'\n| 'bottom-center'\n| 'top-right'\n| 'top-left'\n| 'top-center'\n| 'right-middle'\n| 'left-middle'\n| 'parent'",elements:[{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-center'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-center'"},{name:"literal",value:"'right-middle'"},{name:"literal",value:"'left-middle'"},{name:"literal",value:"'parent'"}]},description:"",defaultValue:{value:"'bottom-right'",computed:!1}},color:{required:!1,tsType:{name:"union",raw:"'error' | 'primary' | 'secondary' | 'success' | 'info' | 'warning'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'success'"},{name:"literal",value:"'info'"},{name:"literal",value:"'warning'"}]},description:"",defaultValue:{value:"'error'",computed:!1}},locale:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'en'",computed:!1}}}};const MaterialFeedbackButton_stories={title:"Material/MaterialFeedbackButton",component:MaterialFeedbackButton,parameters:{layout:"fullscreen",msw:{handlers:__webpack_require__("./src/mocks/handlers.ts").Y}},tags:["autodocs"],argTypes:{meta:{control:"object",description:"Custom metadata object for feedback submission (e.g., user_email, visitor_id, company_id)"},apiBasePath:{control:"text",description:"Backend API base path for feedback endpoints"},additionalHeaders:{control:"object",description:"Additional headers for API requests"},hideIfNoMeta:{control:"boolean",description:"Hide button if no metadata provided"},appId:{control:"text",description:"Application ID (automatically merged into meta as app_id)"},formAsDialog:{control:"boolean",description:"Show form as a centered dialog instead of a drawer"},placement:{control:"select",options:["bottom-right","bottom-left","bottom-center","top-right","top-left","top-center","right-middle","left-middle","parent"],description:"Button placement on screen"},color:{control:"select",options:["error","primary","secondary","success","info","warning"],description:"Button color theme (defaults to error/red)"},locale:{control:"select",options:["en","el"],description:"Language locale for translations (en: English, el: Greek)"}}},Default={args:{meta:{user_email:"user@example.com",visitor_id:"vis_12345"},apiBasePath:"/api/v1/feedback",additionalHeaders:{},hideIfNoMeta:!1,formAsDialog:!1,placement:"bottom-right"}},FormAsDialog={args:{meta:{user_email:"user@example.com",visitor_id:"vis_12345"},apiBasePath:"/api/v1/feedback",additionalHeaders:{},hideIfNoMeta:!1,formAsDialog:!0,placement:"bottom-right"}},BottomLeft={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"bottom-left"}},BottomCenter={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"bottom-center"}},TopRight={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"top-right"}},TopLeft={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"top-left"}},TopCenter={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"top-center"}},RightMiddle={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"right-middle"}},LeftMiddle={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"left-middle"}},ParentPositioning={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"parent"},decorators:[Story=>(0,jsx_runtime.jsxs)("div",{style:{padding:"20px",display:"flex",gap:"10px",alignItems:"center"},children:[(0,jsx_runtime.jsx)("p",{children:"This button uses parent positioning and flows with the layout:"}),(0,jsx_runtime.jsx)(Story,{})]})]},MobileViewport={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"bottom-right"},parameters:{viewport:{defaultViewport:"mobile1"}}},EnglishLocale={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"bottom-right",locale:"en"}},GreekLocale={args:{meta:{user_email:"user@example.com"},apiBasePath:"/api/v1/feedback",placement:"bottom-right",locale:"el"}},__namedExportsOrder=["Default","FormAsDialog","BottomLeft","BottomCenter","TopRight","TopLeft","TopCenter","RightMiddle","LeftMiddle","ParentPositioning","MobileViewport","EnglishLocale","GreekLocale"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com',\n      visitor_id: 'vis_12345'\n    },\n    apiBasePath: '/api/v1/feedback',\n    additionalHeaders: {},\n    hideIfNoMeta: false,\n    formAsDialog: false,\n    placement: 'bottom-right'\n  }\n}",...Default.parameters?.docs?.source},description:{story:"Simple feedback button that appears fixed in the bottom right corner.\nClick to capture screenshot, draw annotations, and submit feedback.\nForm appears as a right-side drawer.",...Default.parameters?.docs?.description}}},FormAsDialog.parameters={...FormAsDialog.parameters,docs:{...FormAsDialog.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com',\n      visitor_id: 'vis_12345'\n    },\n    apiBasePath: '/api/v1/feedback',\n    additionalHeaders: {},\n    hideIfNoMeta: false,\n    formAsDialog: true,\n    placement: 'bottom-right'\n  }\n}",...FormAsDialog.parameters?.docs?.source},description:{story:"Feedback button with form displayed as a centered dialog instead of a drawer.\nThis variant is useful when you want the form to be more prominent and centered.",...FormAsDialog.parameters?.docs?.description}}},BottomLeft.parameters={...BottomLeft.parameters,docs:{...BottomLeft.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'bottom-left'\n  }\n}",...BottomLeft.parameters?.docs?.source},description:{story:"Button positioned at bottom-left corner.",...BottomLeft.parameters?.docs?.description}}},BottomCenter.parameters={...BottomCenter.parameters,docs:{...BottomCenter.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'bottom-center'\n  }\n}",...BottomCenter.parameters?.docs?.source},description:{story:"Button positioned at bottom-center.",...BottomCenter.parameters?.docs?.description}}},TopRight.parameters={...TopRight.parameters,docs:{...TopRight.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'top-right'\n  }\n}",...TopRight.parameters?.docs?.source},description:{story:"Button positioned at top-right corner.",...TopRight.parameters?.docs?.description}}},TopLeft.parameters={...TopLeft.parameters,docs:{...TopLeft.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'top-left'\n  }\n}",...TopLeft.parameters?.docs?.source},description:{story:"Button positioned at top-left corner.",...TopLeft.parameters?.docs?.description}}},TopCenter.parameters={...TopCenter.parameters,docs:{...TopCenter.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'top-center'\n  }\n}",...TopCenter.parameters?.docs?.source},description:{story:"Button positioned at top-center.",...TopCenter.parameters?.docs?.description}}},RightMiddle.parameters={...RightMiddle.parameters,docs:{...RightMiddle.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'right-middle'\n  }\n}",...RightMiddle.parameters?.docs?.source},description:{story:"Button positioned at right-middle (rotated vertically).",...RightMiddle.parameters?.docs?.description}}},LeftMiddle.parameters={...LeftMiddle.parameters,docs:{...LeftMiddle.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'left-middle'\n  }\n}",...LeftMiddle.parameters?.docs?.source},description:{story:"Button positioned at left-middle (rotated vertically).",...LeftMiddle.parameters?.docs?.description}}},ParentPositioning.parameters={...ParentPositioning.parameters,docs:{...ParentPositioning.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'parent'\n  },\n  decorators: [Story => <div style={{\n    padding: '20px',\n    display: 'flex',\n    gap: '10px',\n    alignItems: 'center'\n  }}>\n        <p>This button uses parent positioning and flows with the layout:</p>\n        <Story />\n      </div>]\n}",...ParentPositioning.parameters?.docs?.source},description:{story:"Button with parent positioning (relative) - can be used inline within your layout.\nThis variant renders as a regular button that follows normal document flow.",...ParentPositioning.parameters?.docs?.description}}},MobileViewport.parameters={...MobileViewport.parameters,docs:{...MobileViewport.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'bottom-right'\n  },\n  parameters: {\n    viewport: {\n      defaultViewport: 'mobile1'\n    }\n  }\n}",...MobileViewport.parameters?.docs?.source},description:{story:"Mobile viewport simulation to test the mobile-optimized component.\nUses a small viewport to trigger mobile breakpoint and show the MobileFeedbackComponent.",...MobileViewport.parameters?.docs?.description}}},EnglishLocale.parameters={...EnglishLocale.parameters,docs:{...EnglishLocale.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'bottom-right',\n    locale: 'en'\n  }\n}",...EnglishLocale.parameters?.docs?.source},description:{story:"English locale variant.\nDisplays all feedback UI text in English (default).",...EnglishLocale.parameters?.docs?.description}}},GreekLocale.parameters={...GreekLocale.parameters,docs:{...GreekLocale.parameters?.docs,source:{originalSource:"{\n  args: {\n    meta: {\n      user_email: 'user@example.com'\n    },\n    apiBasePath: '/api/v1/feedback',\n    placement: 'bottom-right',\n    locale: 'el'\n  }\n}",...GreekLocale.parameters?.docs?.source},description:{story:"Greek locale variant (Î•Î»Î»Î·Î½Î¹ÎºÎ¬).\nDisplays all feedback UI text in Greek including form labels, buttons, notifications, and validation messages.",...GreekLocale.parameters?.docs?.description}}}}}]);